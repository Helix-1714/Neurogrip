#include <Servo.h>

// Define servos
Servo servo1, servo2, servo3, servo4, servo5;

// Flex sensor pins
const int flexPins[5] = {A0, A1, A2, A3, A4};

// EMG sensor pin
const int emgPin = A5;

// Servo pins
const int servoPins[5] = {3, 5, 6, 9, 10};

// Flex sensor values
int flexValues[5];

// EMG threshold
const int emgThreshold = 500;

void setup() {
  // Attach servos
  for (int i = 0; i < 5; i++) {
    // Attach each servo to its corresponding pin
    if (i == 0) servo1.attach(servoPins[i]);
    if (i == 1) servo2.attach(servoPins[i]);
    if (i == 2) servo3.attach(servoPins[i]);
    if (i == 3) servo4.attach(servoPins[i]);
    if (i == 4) servo5.attach(servoPins[i]);
  }
  pinMode(emgPin, INPUT);
}

void loop() {
  // Read flex sensors
  for (int i = 0; i < 5; i++) {
    flexValues[i] = analogRead(flexPins[i]);
    int servoPos = map(flexValues[i], 0, 1023, 0, 180);

    // Write to the corresponding servo
    if (i == 0) servo1.write(servoPos);
    if (i == 1) servo2.write(servoPos);
    if (i == 2) servo3.write(servoPos);
    if (i == 3) servo4.write(servoPos);
    if (i == 4) servo5.write(servoPos);
  }
}
